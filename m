Return-Path: <openrisc-bounces@lists.librecores.org>
X-Original-To: lists+openrisc@lfdr.de
Delivered-To: lists+openrisc@lfdr.de
Received: from mail.librecores.org (lists.librecores.org [88.198.125.70])
	by mail.lfdr.de (Postfix) with ESMTP id 1B5A94B6B7B
	for <lists+openrisc@lfdr.de>; Tue, 15 Feb 2022 12:48:17 +0100 (CET)
Received: from [172.31.1.100] (localhost.localdomain [127.0.0.1])
	by mail.librecores.org (Postfix) with ESMTP id 10D972481A;
	Tue, 15 Feb 2022 12:48:16 +0100 (CET)
Received: from foss.arm.com (foss.arm.com [217.140.110.172])
 by mail.librecores.org (Postfix) with ESMTP id D3DA3247C8
 for <openrisc@lists.librecores.org>; Tue, 15 Feb 2022 12:07:23 +0100 (CET)
Received: from usa-sjc-imap-foss1.foss.arm.com (unknown [10.121.207.14])
 by usa-sjc-mx-foss1.foss.arm.com (Postfix) with ESMTP id D50F51424;
 Tue, 15 Feb 2022 03:07:22 -0800 (PST)
Received: from FVFF77S0Q05N (unknown [10.57.89.144])
 by usa-sjc-imap-foss1.foss.arm.com (Postfix) with ESMTPSA id 3D4923F718;
 Tue, 15 Feb 2022 03:07:16 -0800 (PST)
Date: Tue, 15 Feb 2022 11:07:12 +0000
From: Mark Rutland <mark.rutland@arm.com>
To: Arnd Bergmann <arnd@kernel.org>
Message-ID: <YguJYMxJsNj9L4Ee@FVFF77S0Q05N>
References: <20220214163452.1568807-1-arnd@kernel.org>
 <20220214163452.1568807-9-arnd@kernel.org>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20220214163452.1568807-9-arnd@kernel.org>
X-Mailman-Approved-At: Tue, 15 Feb 2022 12:48:13 +0100
Subject: Re: [OpenRISC] [PATCH 08/14] arm64: simplify access_ok()
X-BeenThere: openrisc@lists.librecores.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: Discussion around the OpenRISC processor
 <openrisc.lists.librecores.org>
List-Unsubscribe: <https://lists.librecores.org/options/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=unsubscribe>
List-Archive: <http://lists.librecores.org/pipermail/openrisc/>
List-Post: <mailto:openrisc@lists.librecores.org>
List-Help: <mailto:openrisc-request@lists.librecores.org?subject=help>
List-Subscribe: <https://lists.librecores.org/listinfo/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=subscribe>
Cc: dalias@libc.org, linux-ia64@vger.kernel.org, linux-sh@vger.kernel.org,
 peterz@infradead.org, linux-mips@vger.kernel.org, linux-mm@kvack.org,
 guoren@kernel.org, sparclinux@vger.kernel.org, linux-hexagon@vger.kernel.org,
 linux-riscv@lists.infradead.org, will@kernel.org,
 Christoph Hellwig <hch@lst.de>, linux-arch@vger.kernel.org,
 linux-s390@vger.kernel.org, bcain@codeaurora.org, mpe@ellerman.id.au,
 deller@gmx.de, x86@kernel.org, linux@armlinux.org.uk,
 linux-csky@vger.kernel.org, ardb@kernel.org, mingo@redhat.com,
 linux-snps-arc@lists.infradead.org, linux-xtensa@linux-xtensa.org,
 arnd@arndb.de, hca@linux.ibm.com, linux-alpha@vger.kernel.org,
 linux-um@lists.infradead.org, linuxppc-dev@lists.ozlabs.org,
 linux-m68k@lists.linux-m68k.org, openrisc@lists.librecores.org,
 green.hu@gmail.com, linux-arm-kernel@lists.infradead.org, monstr@monstr.eu,
 tsbogend@alpha.franken.de, linux-parisc@vger.kernel.org, nickhu@andestech.com,
 jcmvbkbc@gmail.com, linux-api@vger.kernel.org, linux-kernel@vger.kernel.org,
 dinguyen@kernel.org, ebiederm@xmission.com, richard@nod.at,
 akpm@linux-foundation.org, Linus Torvalds <torvalds@linux-foundation.org>,
 davem@davemloft.net
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openrisc-bounces@lists.librecores.org
Sender: "OpenRISC" <openrisc-bounces@lists.librecores.org>

T24gTW9uLCBGZWIgMTQsIDIwMjIgYXQgMDU6MzQ6NDZQTSArMDEwMCwgQXJuZCBCZXJnbWFubiB3
cm90ZToKPiBGcm9tOiBBcm5kIEJlcmdtYW5uIDxhcm5kQGFybmRiLmRlPgo+IAo+IGFybTY0IGhh
cyBhbiBpbmxpbmUgYXNtIGltcGxlbWVudGF0aW9uIG9mIGFjY2Vzc19vaygpIHRoYXQgaXMgZGVy
aXZlZCBmcm9tCj4gdGhlIDMyLWJpdCBhcm0gdmVyc2lvbiBhbmQgb3B0aW1pemVkIGZvciB0aGUg
Y2FzZSB0aGF0IGJvdGggdGhlIGxpbWl0IGFuZAo+IHRoZSBzaXplIGFyZSB2YXJpYWJsZS4gV2l0
aCBzZXRfZnMoKSBnb25lLCB0aGUgbGltaXQgaXMgYWx3YXlzIGNvbnN0YW50LAo+IGFuZCB0aGUg
c2l6ZSB1c3VhbGx5IGlzIGFzIHdlbGwsIHNvIGp1c3QgdXNpbmcgdGhlIGRlZmF1bHQgaW1wbGVt
ZW50YXRpb24KPiByZWR1Y2VzIHRoZSBjaGVjayBpbnRvIGEgY29tcGFyaXNvbiBhZ2FpbnN0IGEg
Y29uc3RhbnQgdGhhdCBjYW4gYmUKPiBzY2hlZHVsZWQgYnkgdGhlIGNvbXBpbGVyLgo+IAo+IE9u
IGEgZGVmY29uZmlnIGJ1aWxkLCB0aGlzIHNhdmVzIG92ZXIgMjhLQiBvZiAudGV4dC4KPiAKPiBT
aWduZWQtb2ZmLWJ5OiBBcm5kIEJlcmdtYW5uIDxhcm5kQGFybmRiLmRlPgoKSSBoYWQgYSBwbGF5
IGFyb3VuZCB3aXRoIHRoaXMgYW5kIGEgbnVtYmVyIG9mIGFsdGVybmF0aXZlIG9wdGlvbnMgdGhh
dCBoYWQKcHJldmlvdXNseSBiZWVuIGRpc2N1c3NlZCAoZS5nLiB1c2luZyB1aW50MTI4X3QgZm9y
IHRoZSBjaGVjayB0byBhbGxvdyB0aGUKY29tcGlsZXIgdG8gdXNlIHRoZSBjYXJyeSBmbGFnKSwg
YW5kOgoKKiBBbnkgc2VxdWVuY2VzIHdoaWNoIHdlIHNpZ25pZmljYW50bHkgc2ltcGxlciBpbnZv
bHZlZCBhbiBBQkkgY2hhbmdlIChlLmcuIG5vdAogIGNoZWNraW5nIHRhZ3MgZm9yIHRhc2tzIG5v
dCB1c2luZyB0aGUgcmVsYXhlZCB0YWcgQUJJKSwgb3IgZGlkbid0IGludGVyYWN0CiAgd2VsbCB3
aXRoIHRoZSB1YWNjZXNzIHBvaW50ZXIgbWFza2luZyB3ZSBkbyBmb3Igc3BlY3VsYXRpb24gaGFy
ZGVuaW5nLgoKKiBGb3IgYWxsIGNvbnN0YW50LXNpemUgY2FzZXMsIHRoaXMgd2FzIGpvaW50LWJl
c3QgZm9yIGNvZGVnZW4uCgoqIEZvciB2YXJpYWJsZS1zaXplIGNhc2VzIHRoZSBkaWZmZXJlbmNl
IGJldHdlZW4gb3B0aW9ucyAod2hpY2ggZGlkIG5vdCBjaGFuZ2UKICBBQkkgb3IgYnJlYWsgcG9p
bnRlciBtYXNraW5nKSBmZWxsIGluIHRoZSBub2lzZSBhbmQgcmVhbGx5IGRlcGVuZGVkIG9uIHdo
YXQKICB5b3Ugd2VyZSBvcHRpbWl6aW5nIGZvci4KClRoaXMgcGF0Y2ggaXRzZWxmIGlzIGNsZWFy
LCBJIGJlbGlldmUgdGhlIGxvZ2ljIGlzIHNvdW5kIGFuZCBkb2VzIG5vdCByZXN1bHQgaW4KYSBi
ZWhhdmlvdXJhbCBjaGFuZ2UsIHNvIGZvciB0aGlzIGFzLWlzOgoKQWNrZWQtYnk6IE1hcmsgUnV0
bGFuZCA8bWFyay5ydXRsYW5kQGFybS5jb20+CgpBcyBvbiBvdGhlciByZXBsaWVzLCBJIHRoaW5r
IHRoYXQgaWYgd2Ugd2FudCB0byBtYWtlIGZ1cnRoZXIgY2hhbmdlcyB0byB0aGlzLAp3ZSBzaG91
bGQgZG8gdGhhdCBhcyBmb2xsb3ctdXBzLCBzaW5jZSB0aGVyZSBhcmUgYSBudW1iZXIgb2Ygc3Vi
dGxldGllcyBpbiB0aGlzCmFyZWEgdy5yLnQuIHRhZyBtYW5hZ2VtZW50IGFuZCBzcGVjdWxhdGlv
biB3aXRoIHBvdGVudGlhbCBBQkkgaW1wbGljYXRpb25zLgoKVGhhbmtzLApNYXJrLgoKPiAtLS0K
PiAgYXJjaC9hcm02NC9pbmNsdWRlL2FzbS91YWNjZXNzLmggfCAyOCArKysrKy0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tCj4gIDEgZmlsZSBjaGFuZ2VkLCA1IGluc2VydGlvbnMoKyksIDIzIGRlbGV0
aW9ucygtKQo+IAo+IGRpZmYgLS1naXQgYS9hcmNoL2FybTY0L2luY2x1ZGUvYXNtL3VhY2Nlc3Mu
aCBiL2FyY2gvYXJtNjQvaW5jbHVkZS9hc20vdWFjY2Vzcy5oCj4gaW5kZXggMzU3ZjdiZDljOTgx
Li5lOGRjZTBjYzVlYWEgMTAwNjQ0Cj4gLS0tIGEvYXJjaC9hcm02NC9pbmNsdWRlL2FzbS91YWNj
ZXNzLmgKPiArKysgYi9hcmNoL2FybTY0L2luY2x1ZGUvYXNtL3VhY2Nlc3MuaAo+IEBAIC0yNiw2
ICsyNiw4IEBACj4gICNpbmNsdWRlIDxhc20vbWVtb3J5Lmg+Cj4gICNpbmNsdWRlIDxhc20vZXh0
YWJsZS5oPgo+ICAKPiArc3RhdGljIGlubGluZSBpbnQgX19hY2Nlc3Nfb2soY29uc3Qgdm9pZCBf
X3VzZXIgKnB0ciwgdW5zaWduZWQgbG9uZyBzaXplKTsKPiArCj4gIC8qCj4gICAqIFRlc3Qgd2hl
dGhlciBhIGJsb2NrIG9mIG1lbW9yeSBpcyBhIHZhbGlkIHVzZXIgc3BhY2UgYWRkcmVzcy4KPiAg
ICogUmV0dXJucyAxIGlmIHRoZSByYW5nZSBpcyB2YWxpZCwgMCBvdGhlcndpc2UuCj4gQEAgLTMz
LDEwICszNSw4IEBACj4gICAqIFRoaXMgaXMgZXF1aXZhbGVudCB0byB0aGUgZm9sbG93aW5nIHRl
c3Q6Cj4gICAqICh1NjUpYWRkciArICh1NjUpc2l6ZSA8PSAodTY1KVRBU0tfU0laRV9NQVgKPiAg
ICovCj4gLXN0YXRpYyBpbmxpbmUgdW5zaWduZWQgbG9uZyBfX2FjY2Vzc19vayhjb25zdCB2b2lk
IF9fdXNlciAqYWRkciwgdW5zaWduZWQgbG9uZyBzaXplKQo+ICtzdGF0aWMgaW5saW5lIGludCBh
Y2Nlc3Nfb2soY29uc3Qgdm9pZCBfX3VzZXIgKmFkZHIsIHVuc2lnbmVkIGxvbmcgc2l6ZSkKPiAg
ewo+IC0JdW5zaWduZWQgbG9uZyByZXQsIGxpbWl0ID0gVEFTS19TSVpFX01BWCAtIDE7Cj4gLQo+
ICAJLyoKPiAgCSAqIEFzeW5jaHJvbm91cyBJL08gcnVubmluZyBpbiBhIGtlcm5lbCB0aHJlYWQg
ZG9lcyBub3QgaGF2ZSB0aGUKPiAgCSAqIFRJRl9UQUdHRURfQUREUiBmbGFnIG9mIHRoZSBwcm9j
ZXNzIG93bmluZyB0aGUgbW0sIHNvIGFsd2F5cyB1bnRhZwo+IEBAIC00NiwyNyArNDYsOSBAQCBz
dGF0aWMgaW5saW5lIHVuc2lnbmVkIGxvbmcgX19hY2Nlc3Nfb2soY29uc3Qgdm9pZCBfX3VzZXIg
KmFkZHIsIHVuc2lnbmVkIGxvbmcgcwo+ICAJICAgIChjdXJyZW50LT5mbGFncyAmIFBGX0tUSFJF
QUQgfHwgdGVzdF90aHJlYWRfZmxhZyhUSUZfVEFHR0VEX0FERFIpKSkKPiAgCQlhZGRyID0gdW50
YWdnZWRfYWRkcihhZGRyKTsKPiAgCj4gLQlfX2Noa191c2VyX3B0cihhZGRyKTsKPiAtCWFzbSB2
b2xhdGlsZSgKPiAtCS8vIEEgKyBCIDw9IEMgKyAxIGZvciBhbGwgQSxCLEMsIGluIGZvdXIgZWFz
eSBzdGVwczoKPiAtCS8vIDE6IFggPSBBICsgQjsgWCcgPSBYICUgMl42NAo+IC0JIglhZGRzCSUw
LCAlMywgJTJcbiIKPiAtCS8vIDI6IFNldCBDID0gMCBpZiBYID4gMl42NCwgdG8gZ3VhcmFudGVl
IFgnID4gQyBpbiBzdGVwIDQKPiAtCSIJY3NlbAklMSwgeHpyLCAlMSwgaGlcbiIKPiAtCS8vIDM6
IFNldCBYJyA9IH4wIGlmIFggPj0gMl42NC4gRm9yIFggPT0gMl42NCwgdGhpcyBkZWNyZW1lbnRz
IFgnCj4gLQkvLyAgICB0byBjb21wZW5zYXRlIGZvciB0aGUgY2FycnkgZmxhZyBiZWluZyBzZXQg
aW4gc3RlcCA0LiBGb3IKPiAtCS8vICAgIFggPiAyXjY0LCBYJyBtZXJlbHkgaGFzIHRvIHJlbWFp
biBub256ZXJvLCB3aGljaCBpdCBkb2VzLgo+IC0JIgljc2ludgklMCwgJTAsIHh6ciwgY2NcbiIK
PiAtCS8vIDQ6IEZvciBYIDwgMl42NCwgdGhpcyBnaXZlcyB1cyBYJyAtIEMgLSAxIDw9IDAsIHdo
ZXJlIHRoZSAtMQo+IC0JLy8gICAgY29tZXMgZnJvbSB0aGUgY2FycnkgaW4gYmVpbmcgY2xlYXIu
IE90aGVyd2lzZSwgd2UgYXJlCj4gLQkvLyAgICB0ZXN0aW5nIFgnIC0gQyA9PSAwLCBzdWJqZWN0
IHRvIHRoZSBwcmV2aW91cyBhZGp1c3RtZW50cy4KPiAtCSIJc2Jjcwl4enIsICUwLCAlMVxuIgo+
IC0JIgljc2V0CSUwLCBsc1xuIgo+IC0JOiAiPSZyIiAocmV0KSwgIityIiAobGltaXQpIDogIkly
IiAoc2l6ZSksICIwIiAoYWRkcikgOiAiY2MiKTsKPiAtCj4gLQlyZXR1cm4gcmV0Owo+ICsJcmV0
dXJuIGxpa2VseShfX2FjY2Vzc19vayhhZGRyLCBzaXplKSk7Cj4gIH0KPiAtI2RlZmluZSBfX2Fj
Y2Vzc19vayBfX2FjY2Vzc19vawo+ICsjZGVmaW5lIGFjY2Vzc19vayBhY2Nlc3Nfb2sKPiAgCj4g
ICNpbmNsdWRlIDxhc20tZ2VuZXJpYy9hY2Nlc3Nfb2suaD4KPiAgCj4gLS0gCj4gMi4yOS4yCj4g
Cl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCk9wZW5SSVND
IG1haWxpbmcgbGlzdApPcGVuUklTQ0BsaXN0cy5saWJyZWNvcmVzLm9yZwpodHRwczovL2xpc3Rz
LmxpYnJlY29yZXMub3JnL2xpc3RpbmZvL29wZW5yaXNjCg==
