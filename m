Return-Path: <openrisc-bounces@lists.librecores.org>
X-Original-To: lists+openrisc@lfdr.de
Delivered-To: lists+openrisc@lfdr.de
Received: from mail.librecores.org (lists.librecores.org [88.198.125.70])
	by mail.lfdr.de (Postfix) with ESMTP id 4AAB3483ADC
	for <lists+openrisc@lfdr.de>; Tue,  4 Jan 2022 04:14:36 +0100 (CET)
Received: from [172.31.1.100] (localhost.localdomain [127.0.0.1])
	by mail.librecores.org (Postfix) with ESMTP id 2CE6E24334;
	Tue,  4 Jan 2022 04:14:36 +0100 (CET)
Received: from mail-pf1-f181.google.com (mail-pf1-f181.google.com
 [209.85.210.181])
 by mail.librecores.org (Postfix) with ESMTPS id E7F0524325
 for <openrisc@lists.librecores.org>; Tue,  4 Jan 2022 04:14:33 +0100 (CET)
Received: by mail-pf1-f181.google.com with SMTP id 196so30967303pfw.10
 for <openrisc@lists.librecores.org>; Mon, 03 Jan 2022 19:14:33 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20210112;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=SvVfQ/MLE5SuNcFxbosA+9aIEgMn1LxPIyigY4N2+vM=;
 b=Z97ej9tgPueAgEHVLA1PF9KkslMppARkLJOOystsyKQ3kD4jxUF3PgkOw0PKf8K2NC
 zh+MMNF3j+gamOCVqOdYoiKs5gISPq7+eBynlYui1p3+juvn9cWYiicsd9ovOa0YdX8o
 vWzHPVGXws6VLW7PAUsQGMkjxEUrrNohjGkrEVgYBWmaEY1c8B24DgXs56zY60h5ULxy
 X9wV5e/1KqHsQbQypZYRbeEKIPiZZDEfqSloo9z/irv7mvGv9VomZzic+vIIwXH4hL1G
 Ys+azJMXHeyZlbQ3IGHjQHlLqi+1J6dxbKFkQmWrcgUbJf5UqtLrl8vXzSdBTSSi3anv
 47Fg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=SvVfQ/MLE5SuNcFxbosA+9aIEgMn1LxPIyigY4N2+vM=;
 b=R4v1K3DTat0uQ4tJejoDEf/ypVrhv05Su1mfkK5oDKqRIhT/Ad/Yp/StWxcKOxyOxo
 CVEl6OX7W2qFx5L7JfPcziaupmhSJ17C8fWdoBZMvWxZENyTNhaumGqd4T5VM7Xf+iMi
 MgJSHDsiKByvo7QqZqeRfJOoAAKUOsT2Z114WuwLBbLfR+N+zLeCG3cOD/v2Wy+T0Kdr
 5yWPQOr4wOi8yLCoF2uKuKGjmymSOHVkMBEoyD9vD5jSwTVRMvHIR9bnma6NIZ6rYyHh
 C79/q+DLvsZfh22yMTlC2z3XopIuAzLPhcBxTUYbJ++QOe0pVxGsi49L7jpns0WxGja1
 WHyA==
X-Gm-Message-State: AOAM531cAfvufrBEx4iOugIBHC/eSQ+Odb/dUjVo1udOh/gOZZUJvtsZ
 Ow5sp4QHmZAJv5I38aybTe0=
X-Google-Smtp-Source: ABdhPJywzDHWwYbyQIrsFwWnO6ETc32onJqMeNVyf9bqAwrMvbuezeWOyNPMKe2qIiUSDeNJOMBh/w==
X-Received: by 2002:a63:6a49:: with SMTP id f70mr42974294pgc.244.1641266072569; 
 Mon, 03 Jan 2022 19:14:32 -0800 (PST)
Received: from localhost ([2409:10:24a0:4700:e8ad:216a:2a9d:6d0c])
 by smtp.gmail.com with ESMTPSA id e15sm40697343pfv.23.2022.01.03.19.14.31
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Mon, 03 Jan 2022 19:14:32 -0800 (PST)
From: Stafford Horne <shorne@gmail.com>
To: GLIBC patches <libc-alpha@sourceware.org>
Date: Tue,  4 Jan 2022 12:14:07 +0900
Message-Id: <20220104031414.2416928-7-shorne@gmail.com>
X-Mailer: git-send-email 2.31.1
In-Reply-To: <20220104031414.2416928-1-shorne@gmail.com>
References: <20220104031414.2416928-1-shorne@gmail.com>
MIME-Version: 1.0
Subject: [OpenRISC] [PATCH v5 06/13] or1k: Atomics and Locking primitives
X-BeenThere: openrisc@lists.librecores.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: Discussion around the OpenRISC processor
 <openrisc.lists.librecores.org>
List-Unsubscribe: <https://lists.librecores.org/options/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=unsubscribe>
List-Archive: <http://lists.librecores.org/pipermail/openrisc/>
List-Post: <mailto:openrisc@lists.librecores.org>
List-Help: <mailto:openrisc-request@lists.librecores.org?subject=help>
List-Subscribe: <https://lists.librecores.org/listinfo/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=subscribe>
Cc: Openrisc <openrisc@lists.librecores.org>,
 Adhemerval Zanella <adhemerval.zanella@linaro.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openrisc-bounces@lists.librecores.org
Sender: "OpenRISC" <openrisc-bounces@lists.librecores.org>

UmV2aWV3ZWQtYnk6IEFkaGVtZXJ2YWwgWmFuZWxsYSAgPGFkaGVtZXJ2YWwuemFuZWxsYUBsaW5h
cm8ub3JnPgotLS0KIHN5c2RlcHMvb3Ixay9hdG9taWMtbWFjaGluZS5oIHwgNzEgKysrKysrKysr
KysrKysrKysrKysrKysrKysrKysrKysrKysKIDEgZmlsZSBjaGFuZ2VkLCA3MSBpbnNlcnRpb25z
KCspCiBjcmVhdGUgbW9kZSAxMDA2NDQgc3lzZGVwcy9vcjFrL2F0b21pYy1tYWNoaW5lLmgKCmRp
ZmYgLS1naXQgYS9zeXNkZXBzL29yMWsvYXRvbWljLW1hY2hpbmUuaCBiL3N5c2RlcHMvb3Ixay9h
dG9taWMtbWFjaGluZS5oCm5ldyBmaWxlIG1vZGUgMTAwNjQ0CmluZGV4IDAwMDAwMDAwMDAuLjBk
MjcyOThkNzAKLS0tIC9kZXYvbnVsbAorKysgYi9zeXNkZXBzL29yMWsvYXRvbWljLW1hY2hpbmUu
aApAQCAtMCwwICsxLDcxIEBACisvKiBBdG9taWMgb3BlcmF0aW9ucy4gIE9wZW5SSVNDIHZlcnNp
b24uCisgICBDb3B5cmlnaHQgKEMpIDIwMjIgRnJlZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLCBJbmMu
CisgICBUaGlzIGZpbGUgaXMgcGFydCBvZiB0aGUgR05VIEMgTGlicmFyeS4KKworICAgVGhlIEdO
VSBDIExpYnJhcnkgaXMgZnJlZSBzb2Z0d2FyZTsgeW91IGNhbiByZWRpc3RyaWJ1dGUgaXQgYW5k
L29yCisgICBtb2RpZnkgaXQgdW5kZXIgdGhlIHRlcm1zIG9mIHRoZSBHTlUgTGVzc2VyIEdlbmVy
YWwgUHVibGljCisgICBMaWNlbnNlIGFzIHB1Ymxpc2hlZCBieSB0aGUgRnJlZSBTb2Z0d2FyZSBG
b3VuZGF0aW9uOyBlaXRoZXIKKyAgIHZlcnNpb24gMi4xIG9mIHRoZSBMaWNlbnNlLCBvciAoYXQg
eW91ciBvcHRpb24pIGFueSBsYXRlciB2ZXJzaW9uLgorCisgICBUaGUgR05VIEMgTGlicmFyeSBp
cyBkaXN0cmlidXRlZCBpbiB0aGUgaG9wZSB0aGF0IGl0IHdpbGwgYmUgdXNlZnVsLAorICAgYnV0
IFdJVEhPVVQgQU5ZIFdBUlJBTlRZOyB3aXRob3V0IGV2ZW4gdGhlIGltcGxpZWQgd2FycmFudHkg
b2YKKyAgIE1FUkNIQU5UQUJJTElUWSBvciBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9T
RS4gIFNlZSB0aGUgR05VCisgICBMZXNzZXIgR2VuZXJhbCBQdWJsaWMgTGljZW5zZSBmb3IgbW9y
ZSBkZXRhaWxzLgorCisgICBZb3Ugc2hvdWxkIGhhdmUgcmVjZWl2ZWQgYSBjb3B5IG9mIHRoZSBH
TlUgTGVzc2VyIEdlbmVyYWwgUHVibGljCisgICBMaWNlbnNlIGFsb25nIHdpdGggdGhlIEdOVSBD
IExpYnJhcnkuICBJZiBub3QsIHNlZQorICAgPGh0dHBzOi8vd3d3LmdudS5vcmcvbGljZW5zZXMv
Pi4gICovCisKKyNpZm5kZWYgX19PUjFLX0FUT01JQ19IXworI2RlZmluZSBfX09SMUtfQVRPTUlD
X0hfCisKKyNpbmNsdWRlIDxzdGRpbnQuaD4KKworI2RlZmluZSBfX0hBVkVfNjRCX0FUT01JQ1Mg
MAorI2RlZmluZSBVU0VfQVRPTUlDX0NPTVBJTEVSX0JVSUxUSU5TIDEKKyNkZWZpbmUgQVRPTUlD
X0VYQ0hBTkdFX1VTRVNfQ0FTIDEKKworI2RlZmluZSBfX2FyY2hfY29tcGFyZV9hbmRfZXhjaGFu
Z2VfYm9vbF84X2ludChtZW0sIG5ld3ZhbCwgb2xkdmFsLCBtb2RlbCkgXAorICAoYWJvcnQgKCks
IDApCisKKyNkZWZpbmUgX19hcmNoX2NvbXBhcmVfYW5kX2V4Y2hhbmdlX2Jvb2xfMTZfaW50KG1l
bSwgbmV3dmFsLCBvbGR2YWwsIG1vZGVsKSBcCisgIChhYm9ydCAoKSwgMCkKKworI2RlZmluZSBf
X2FyY2hfY29tcGFyZV9hbmRfZXhjaGFuZ2VfYm9vbF8zMl9pbnQobWVtLCBuZXd2YWwsIG9sZHZh
bCwgbW9kZWwpIFwKKyAgKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICB0eXBlb2YgKCptZW0pIF9fb2xkdmFs
ID0gKG9sZHZhbCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICAhX19h
dG9taWNfY29tcGFyZV9leGNoYW5nZV9uIChtZW0sICh2b2lkICopICZfX29sZHZhbCwgbmV3dmFs
LCAwLCAgIFwKKwkJCQkgIG1vZGVsLCBfX0FUT01JQ19SRUxBWEVEKTsgICAgICAgICAgICAgXAor
ICB9KQorCisjZGVmaW5lIF9fYXJjaF9jb21wYXJlX2FuZF9leGNoYW5nZV9ib29sXzY0X2ludCht
ZW0sIG5ld3ZhbCwgb2xkdmFsLCBtb2RlbCkgXAorICAoYWJvcnQgKCksIDApCisKKyNkZWZpbmUg
X19hcmNoX2NvbXBhcmVfYW5kX2V4Y2hhbmdlX3ZhbF84X2ludChtZW0sIG5ld3ZhbCwgb2xkdmFs
LCBtb2RlbCkgXAorICAoYWJvcnQgKCksIChfX3R5cGVvZiAoKm1lbSkpIDApCisKKyNkZWZpbmUg
X19hcmNoX2NvbXBhcmVfYW5kX2V4Y2hhbmdlX3ZhbF8xNl9pbnQobWVtLCBuZXd2YWwsIG9sZHZh
bCwgbW9kZWwpIFwKKyAgKGFib3J0ICgpLCAoX190eXBlb2YgKCptZW0pKSAwKQorCisjZGVmaW5l
IF9fYXJjaF9jb21wYXJlX2FuZF9leGNoYW5nZV92YWxfMzJfaW50KG1lbSwgbmV3dmFsLCBvbGR2
YWwsIG1vZGVsKSBcCisgICh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCisgICAgdHlwZW9mICgqbWVtKSBfX29sZHZh
bCA9IChvbGR2YWwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCisgICAgX19h
dG9taWNfY29tcGFyZV9leGNoYW5nZV9uIChtZW0sICh2b2lkICopICZfX29sZHZhbCwgbmV3dmFs
LCAwLCAgICBcCisJCQkJIG1vZGVsLCBfX0FUT01JQ19SRUxBWEVEKTsgICAgICAgICAgICAgIFwK
KyAgICBfX29sZHZhbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIFwKKyAgfSkKKworI2RlZmluZSBfX2FyY2hfY29tcGFyZV9hbmRfZXhj
aGFuZ2VfdmFsXzY0X2ludChtZW0sIG5ld3ZhbCwgb2xkdmFsLCBtb2RlbCkgXAorICAoYWJvcnQg
KCksIChfX3R5cGVvZiAoKm1lbSkpIDApCisKKyNkZWZpbmUgYXRvbWljX2NvbXBhcmVfYW5kX2V4
Y2hhbmdlX2Jvb2xfYWNxKG1lbSwgbmV3LCBvbGQpCQlcCisgIF9fYXRvbWljX2Jvb2xfYnlzaXpl
IChfX2FyY2hfY29tcGFyZV9hbmRfZXhjaGFuZ2VfYm9vbCwgaW50LAkJXAorCQkJbWVtLCBuZXcs
IG9sZCwgX19BVE9NSUNfQUNRVUlSRSkKKworI2RlZmluZSBhdG9taWNfY29tcGFyZV9hbmRfZXhj
aGFuZ2VfdmFsX2FjcShtZW0sIG5ldywgb2xkKQkJXAorICBfX2F0b21pY192YWxfYnlzaXplIChf
X2FyY2hfY29tcGFyZV9hbmRfZXhjaGFuZ2VfdmFsLCBpbnQsCQlcCisJCSAgICAgICBtZW0sIG5l
dywgb2xkLCBfX0FUT01JQ19BQ1FVSVJFKQorCisjZGVmaW5lIGF0b21pY19mdWxsX2JhcnJpZXIo
KSAoeyBhc20gdm9sYXRpbGUgKCJsLm1zeW5jIiA6OjogIm1lbW9yeSIpOyB9KQorCisjZW5kaWYg
LyogYXRvbWljLW1hY2hpbmUuaCAqLwotLSAKMi4zMS4xCgpfX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fXwpPcGVuUklTQyBtYWlsaW5nIGxpc3QKT3BlblJJU0NA
bGlzdHMubGlicmVjb3Jlcy5vcmcKaHR0cHM6Ly9saXN0cy5saWJyZWNvcmVzLm9yZy9saXN0aW5m
by9vcGVucmlzYwo=
