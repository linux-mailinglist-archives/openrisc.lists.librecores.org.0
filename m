Return-Path: <openrisc-bounces@lists.librecores.org>
X-Original-To: lists+openrisc@lfdr.de
Delivered-To: lists+openrisc@lfdr.de
Received: from mail.librecores.org (lists.librecores.org [88.198.125.70])
	by mail.lfdr.de (Postfix) with ESMTP id EE0B1470EC4
	for <lists+openrisc@lfdr.de>; Sat, 11 Dec 2021 00:35:25 +0100 (CET)
Received: from [172.31.1.100] (localhost.localdomain [127.0.0.1])
	by mail.librecores.org (Postfix) with ESMTP id CD31F242C8;
	Sat, 11 Dec 2021 00:35:25 +0100 (CET)
Received: from mail-pg1-f182.google.com (mail-pg1-f182.google.com
 [209.85.215.182])
 by mail.librecores.org (Postfix) with ESMTPS id 4ACDF20E43
 for <openrisc@lists.librecores.org>; Sat, 11 Dec 2021 00:35:24 +0100 (CET)
Received: by mail-pg1-f182.google.com with SMTP id s137so9303282pgs.5
 for <openrisc@lists.librecores.org>; Fri, 10 Dec 2021 15:35:24 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20210112;
 h=from:to:cc:subject:date:message-id:in-reply-to:references
 :mime-version:content-transfer-encoding;
 bh=qVssAnCqizWMYNetFxK/R2/Ds3SH8AMEJdUOHUOrQNU=;
 b=SYqcUjm+jX49CuOzLb7S4EkKAo7YOqRktFbaKMyewl6Xo6ZDg5uB4OO1zziqWMqPPd
 ftsbcGLPyxOoNvi3KHooLVhIjpSeJuO9M+LMkNAWLaa7zSN450cZPXlptEFreaugbFye
 pZsUwdzmn61Gt8ngNU9C3yYoKQRww7YjeD56cZmo6Me6WFrWCJmJx+5a0+TS8Tgtz+eB
 5Hu45M6VFkIvpGEYZlkMFcSLRE2lbcO4S/AGdTKrpmgU5pvuDTNub35H31xyUEXg4KrW
 J1svXQWaPDpnVBEy0M0WW8iFJLJk7H0mnzwA++BymbRzQl3j0VYqeHfd1uixzDDIaPY4
 6nHw==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:from:to:cc:subject:date:message-id:in-reply-to
 :references:mime-version:content-transfer-encoding;
 bh=qVssAnCqizWMYNetFxK/R2/Ds3SH8AMEJdUOHUOrQNU=;
 b=3OcsEPZNqUnjrk3Fyj8fvE4t1SU2lef0J6j8Q97Bq8NJHz2mJRvp7YRb9lg1lC/qDa
 ik0kG37f+SVIyQ1/8Ymu6AfZ9RN6/Ukc2bur53zx0i1qGIRHwUGyj1h/0MTaYYzmrLHh
 l1Is+to7ylWavx6Mw50+qO570DSyd7wh1iX6BWrNyam0MxPeeTU+sPnEtQ+Mve15vseD
 MHoxgcwr+ea15NyIYGZdz7hOS6M/hHZjjjycvDZOh52/iG20na5FzOM37zHsLc85R7C7
 WWUzCr0ES3iHhYy0DPk3L4ALzzFoqrt8dDuVcwfEKqeZP3Vmdit83ifZYkgOdokTFidG
 J9TQ==
X-Gm-Message-State: AOAM532079ZllupIi+aFXi+Qt0DJm7hnC70j9BsPConO/1zt2cn//cR1
 48k+nR2Oicv5oX+0PwDidSOtn1H5Te0=
X-Google-Smtp-Source: ABdhPJw5bxQxCMi3C/UJtNdqOo7GNHvGfU5pt65DUZqLo4kfMjAtyhK2uWyw5c4+wLDh4POiBWiB5Q==
X-Received: by 2002:a63:d054:: with SMTP id s20mr41111124pgi.565.1639179322772; 
 Fri, 10 Dec 2021 15:35:22 -0800 (PST)
Received: from localhost ([2409:10:24a0:4700:e8ad:216a:2a9d:6d0c])
 by smtp.gmail.com with ESMTPSA id d185sm3573941pgc.58.2021.12.10.15.35.21
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Fri, 10 Dec 2021 15:35:22 -0800 (PST)
From: Stafford Horne <shorne@gmail.com>
To: GLIBC patches <libc-alpha@sourceware.org>
Date: Sat, 11 Dec 2021 08:34:49 +0900
Message-Id: <20211210233456.4146479-7-shorne@gmail.com>
X-Mailer: git-send-email 2.31.1
In-Reply-To: <20211210233456.4146479-1-shorne@gmail.com>
References: <20211210233456.4146479-1-shorne@gmail.com>
MIME-Version: 1.0
Subject: [OpenRISC] [PATCH v3 06/13] or1k: Atomics and Locking primitives
X-BeenThere: openrisc@lists.librecores.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: Discussion around the OpenRISC processor
 <openrisc.lists.librecores.org>
List-Unsubscribe: <https://lists.librecores.org/options/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=unsubscribe>
List-Archive: <http://lists.librecores.org/pipermail/openrisc/>
List-Post: <mailto:openrisc@lists.librecores.org>
List-Help: <mailto:openrisc-request@lists.librecores.org?subject=help>
List-Subscribe: <https://lists.librecores.org/listinfo/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=subscribe>
Cc: Openrisc <openrisc@lists.librecores.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openrisc-bounces@lists.librecores.org
Sender: "OpenRISC" <openrisc-bounces@lists.librecores.org>

LS0tCiBzeXNkZXBzL29yMWsvYXRvbWljLW1hY2hpbmUuaCB8IDc5ICsrKysrKysrKysrKysrKysr
KysrKysrKysrKysrKysrKysrCiAxIGZpbGUgY2hhbmdlZCwgNzkgaW5zZXJ0aW9ucygrKQogY3Jl
YXRlIG1vZGUgMTAwNjQ0IHN5c2RlcHMvb3Ixay9hdG9taWMtbWFjaGluZS5oCgpkaWZmIC0tZ2l0
IGEvc3lzZGVwcy9vcjFrL2F0b21pYy1tYWNoaW5lLmggYi9zeXNkZXBzL29yMWsvYXRvbWljLW1h
Y2hpbmUuaApuZXcgZmlsZSBtb2RlIDEwMDY0NAppbmRleCAwMDAwMDAwMDAwLi4xZTMwNmFlNGVm
Ci0tLSAvZGV2L251bGwKKysrIGIvc3lzZGVwcy9vcjFrL2F0b21pYy1tYWNoaW5lLmgKQEAgLTAs
MCArMSw3OSBAQAorLyogQXRvbWljIG9wZXJhdGlvbnMuICBPcGVuUklTQyB2ZXJzaW9uLgorICAg
Q29weXJpZ2h0IChDKSAyMDIxIEZyZWUgU29mdHdhcmUgRm91bmRhdGlvbiwgSW5jLgorICAgVGhp
cyBmaWxlIGlzIHBhcnQgb2YgdGhlIEdOVSBDIExpYnJhcnkuCisKKyAgIFRoZSBHTlUgQyBMaWJy
YXJ5IGlzIGZyZWUgc29mdHdhcmU7IHlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vcgorICAg
bW9kaWZ5IGl0IHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGUgR05VIExlc3NlciBHZW5lcmFsIFB1Ymxp
YworICAgTGljZW5zZSBhcyBwdWJsaXNoZWQgYnkgdGhlIEZyZWUgU29mdHdhcmUgRm91bmRhdGlv
bjsgZWl0aGVyCisgICB2ZXJzaW9uIDIuMSBvZiB0aGUgTGljZW5zZSwgb3IgKGF0IHlvdXIgb3B0
aW9uKSBhbnkgbGF0ZXIgdmVyc2lvbi4KKworICAgVGhlIEdOVSBDIExpYnJhcnkgaXMgZGlzdHJp
YnV0ZWQgaW4gdGhlIGhvcGUgdGhhdCBpdCB3aWxsIGJlIHVzZWZ1bCwKKyAgIGJ1dCBXSVRIT1VU
IEFOWSBXQVJSQU5UWTsgd2l0aG91dCBldmVuIHRoZSBpbXBsaWVkIHdhcnJhbnR5IG9mCisgICBN
RVJDSEFOVEFCSUxJVFkgb3IgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UuICBTZWUg
dGhlIEdOVQorICAgTGVzc2VyIEdlbmVyYWwgUHVibGljIExpY2Vuc2UgZm9yIG1vcmUgZGV0YWls
cy4KKworICAgWW91IHNob3VsZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiB0aGUgR05VIExlc3Nl
ciBHZW5lcmFsIFB1YmxpYworICAgTGljZW5zZSBhbG9uZyB3aXRoIHRoZSBHTlUgQyBMaWJyYXJ5
LiAgSWYgbm90LCBzZWUKKyAgIDxodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzLz4uICAqLwor
CisjaWZuZGVmIF9fT1IxS19BVE9NSUNfSF8KKyNkZWZpbmUgX19PUjFLX0FUT01JQ19IXworCisj
aW5jbHVkZSA8c3RkaW50Lmg+CisKK3R5cGVkZWYgaW50MzJfdCBhdG9taWMzMl90OwordHlwZWRl
ZiB1aW50MzJfdCB1YXRvbWljMzJfdDsKKwordHlwZWRlZiBpbnRwdHJfdCBhdG9taWNwdHJfdDsK
K3R5cGVkZWYgdWludHB0cl90IHVhdG9taWNwdHJfdDsKK3R5cGVkZWYgaW50bWF4X3QgYXRvbWlj
X21heF90OwordHlwZWRlZiB1aW50bWF4X3QgdWF0b21pY19tYXhfdDsKKworI2RlZmluZSBfX0hB
VkVfNjRCX0FUT01JQ1MgMAorI2RlZmluZSBVU0VfQVRPTUlDX0NPTVBJTEVSX0JVSUxUSU5TIDEK
KyNkZWZpbmUgQVRPTUlDX0VYQ0hBTkdFX1VTRVNfQ0FTIDEKKworI2RlZmluZSBfX2FyY2hfY29t
cGFyZV9hbmRfZXhjaGFuZ2VfYm9vbF84X2ludChtZW0sIG5ld3ZhbCwgb2xkdmFsLCBtb2RlbCkg
XAorICAoYWJvcnQgKCksIDApCisKKyNkZWZpbmUgX19hcmNoX2NvbXBhcmVfYW5kX2V4Y2hhbmdl
X2Jvb2xfMTZfaW50KG1lbSwgbmV3dmFsLCBvbGR2YWwsIG1vZGVsKSBcCisgIChhYm9ydCAoKSwg
MCkKKworI2RlZmluZSBfX2FyY2hfY29tcGFyZV9hbmRfZXhjaGFuZ2VfYm9vbF8zMl9pbnQobWVt
LCBuZXd2YWwsIG9sZHZhbCwgbW9kZWwpIFwKKyAgKHsgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgICB0eXBlb2Yg
KCptZW0pIF9fb2xkdmFsID0gKG9sZHZhbCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIFwKKyAgICAhX19hdG9taWNfY29tcGFyZV9leGNoYW5nZV9uIChtZW0sICh2b2lkICopICZf
X29sZHZhbCwgbmV3dmFsLCAwLCAgIFwKKwkJCQkgIG1vZGVsLCBfX0FUT01JQ19SRUxBWEVEKTsg
ICAgICAgICAgICAgXAorICB9KQorCisjZGVmaW5lIF9fYXJjaF9jb21wYXJlX2FuZF9leGNoYW5n
ZV9ib29sXzY0X2ludChtZW0sIG5ld3ZhbCwgb2xkdmFsLCBtb2RlbCkgXAorICAoYWJvcnQgKCks
IDApCisKKyNkZWZpbmUgX19hcmNoX2NvbXBhcmVfYW5kX2V4Y2hhbmdlX3ZhbF84X2ludChtZW0s
IG5ld3ZhbCwgb2xkdmFsLCBtb2RlbCkgXAorICAoYWJvcnQgKCksIChfX3R5cGVvZiAoKm1lbSkp
IDApCisKKyNkZWZpbmUgX19hcmNoX2NvbXBhcmVfYW5kX2V4Y2hhbmdlX3ZhbF8xNl9pbnQobWVt
LCBuZXd2YWwsIG9sZHZhbCwgbW9kZWwpIFwKKyAgKGFib3J0ICgpLCAoX190eXBlb2YgKCptZW0p
KSAwKQorCisjZGVmaW5lIF9fYXJjaF9jb21wYXJlX2FuZF9leGNoYW5nZV92YWxfMzJfaW50KG1l
bSwgbmV3dmFsLCBvbGR2YWwsIG1vZGVsKSBcCisgICh7ICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCisgICAgdHlwZW9m
ICgqbWVtKSBfX29sZHZhbCA9IChvbGR2YWwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBcCisgICAgX19hdG9taWNfY29tcGFyZV9leGNoYW5nZV9uIChtZW0sICh2b2lkICopICZf
X29sZHZhbCwgbmV3dmFsLCAwLCAgICBcCisJCQkJIG1vZGVsLCBfX0FUT01JQ19SRUxBWEVEKTsg
ICAgICAgICAgICAgIFwKKyAgICBfX29sZHZhbDsgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKKyAgfSkKKworI2RlZmluZSBfX2FyY2hf
Y29tcGFyZV9hbmRfZXhjaGFuZ2VfdmFsXzY0X2ludChtZW0sIG5ld3ZhbCwgb2xkdmFsLCBtb2Rl
bCkgXAorICAoYWJvcnQgKCksIChfX3R5cGVvZiAoKm1lbSkpIDApCisKKyNkZWZpbmUgYXRvbWlj
X2NvbXBhcmVfYW5kX2V4Y2hhbmdlX2Jvb2xfYWNxKG1lbSwgbmV3LCBvbGQpCQlcCisgIF9fYXRv
bWljX2Jvb2xfYnlzaXplIChfX2FyY2hfY29tcGFyZV9hbmRfZXhjaGFuZ2VfYm9vbCwgaW50LAkJ
XAorCQkJbWVtLCBuZXcsIG9sZCwgX19BVE9NSUNfQUNRVUlSRSkKKworI2RlZmluZSBhdG9taWNf
Y29tcGFyZV9hbmRfZXhjaGFuZ2VfdmFsX2FjcShtZW0sIG5ldywgb2xkKQkJXAorICBfX2F0b21p
Y192YWxfYnlzaXplIChfX2FyY2hfY29tcGFyZV9hbmRfZXhjaGFuZ2VfdmFsLCBpbnQsCQlcCisJ
CSAgICAgICBtZW0sIG5ldywgb2xkLCBfX0FUT01JQ19BQ1FVSVJFKQorCisjZGVmaW5lIGF0b21p
Y19mdWxsX2JhcnJpZXIoKSAoeyBhc20gdm9sYXRpbGUgKCJsLm1zeW5jIiA6OjogIm1lbW9yeSIp
OyB9KQorCisjZW5kaWYgLyogYXRvbWljLW1hY2hpbmUuaCAqLwotLSAKMi4zMS4xCgpfX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXwpPcGVuUklTQyBtYWlsaW5n
IGxpc3QKT3BlblJJU0NAbGlzdHMubGlicmVjb3Jlcy5vcmcKaHR0cHM6Ly9saXN0cy5saWJyZWNv
cmVzLm9yZy9saXN0aW5mby9vcGVucmlzYwo=
