Return-Path: <openrisc-bounces@lists.librecores.org>
X-Original-To: lists+openrisc@lfdr.de
Delivered-To: lists+openrisc@lfdr.de
Received: from mail.librecores.org (lists.librecores.org [88.198.125.70])
	by mail.lfdr.de (Postfix) with ESMTP id 7CD1844EFDE
	for <lists+openrisc@lfdr.de>; Fri, 12 Nov 2021 23:59:45 +0100 (CET)
Received: from [172.31.1.100] (localhost.localdomain [127.0.0.1])
	by mail.librecores.org (Postfix) with ESMTP id 310B124276;
	Fri, 12 Nov 2021 23:59:45 +0100 (CET)
Received: from mail-pf1-f169.google.com (mail-pf1-f169.google.com
 [209.85.210.169])
 by mail.librecores.org (Postfix) with ESMTPS id 5BDEC242A8
 for <openrisc@lists.librecores.org>; Fri, 12 Nov 2021 23:59:43 +0100 (CET)
Received: by mail-pf1-f169.google.com with SMTP id n85so9660228pfd.10
 for <openrisc@lists.librecores.org>; Fri, 12 Nov 2021 14:59:43 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20210112;
 h=date:from:to:cc:subject:message-id:references:mime-version
 :content-disposition:in-reply-to;
 bh=MAdMMiiZeX6b+nGnU8AEVGsUxAjQMIiC2pvHJVw7WRs=;
 b=SkgaTL0HUq/gxxIUK0O3Llx2id76bHdHjG2bdbeAh5gZ7WxR70GmxLbIjz8ILcioQ7
 CxYmhBq/D+YgOR/zMR5K8gXbASMH8nqVksaWxXO7O7V8i179f/084LdFwq0b86avnFN+
 fiXyoUMnSXMWN/kS/PRO/drlPoHk3vW7zYv6GJkwKu/2IRhh2pVkG8eN+eWhs6Z/iAdi
 q0S7YPdOZmZTSxAojUB0N+Hwka5+sTZVJhwbN3nmLb1+UYUnA6QFIQ+DgmF605mSJ8Ye
 tiBhPO4Dyo5H3Ptv7UgDHac/yJ/LJGk/9Zverp9DOossbwBw65YAOw5uNCKR0tT44YL1
 4txA==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=1e100.net; s=20210112;
 h=x-gm-message-state:date:from:to:cc:subject:message-id:references
 :mime-version:content-disposition:in-reply-to;
 bh=MAdMMiiZeX6b+nGnU8AEVGsUxAjQMIiC2pvHJVw7WRs=;
 b=FpHLeYTJo+FnR/bJ4f42P5xXZhUraKevAmi1SyZM2UA6Q8X+vGlOqT60Dy/KXUnPLH
 oukd5bypbd7evFAqzaQAeUiHqE2lOwjSVR3+XXYPQio9T+dGGVPVFIcdziMkfs6nOgYk
 EryBTOFEMTRzITqryUAqcpcb5nnpUsamm8AqW6O4sN4J4UxGYAAQ/chAbpi6Pb71n3Mm
 cG0RIlELVJnjvcqmHyA+TrL7hOqgHeSP5V2bw4v1VGgHKcN1UVHNBBYn6+EXjVQEmYJf
 bIjmgp0BMJ8qEF46O9/6oIVPIVsCHj82IlMvo70c3NxgxGvcMzUfKAEVYQ9j08xJ9JLO
 fozQ==
X-Gm-Message-State: AOAM532gzYZGNlLYSvDxFGalMi7w2OgOfKv5xL4kfWTTq1hlmzgdRiW2
 zxGt7FDdJFicnrufC8vM8yjDFnIJZc0=
X-Google-Smtp-Source: ABdhPJx6qcHvkb9bwC61zSdXPvPkFXd7nQjjrzSYnuZBpCtIO023fTu/w9Y4VT0uPLalWwfFn6edFA==
X-Received: by 2002:a63:cc09:: with SMTP id x9mr12290619pgf.349.1636757981691; 
 Fri, 12 Nov 2021 14:59:41 -0800 (PST)
Received: from localhost ([2409:10:24a0:4700:e8ad:216a:2a9d:6d0c])
 by smtp.gmail.com with ESMTPSA id q13sm8516297pfj.26.2021.11.12.14.59.40
 (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
 Fri, 12 Nov 2021 14:59:40 -0800 (PST)
Date: Sat, 13 Nov 2021 07:59:39 +0900
From: Stafford Horne <shorne@gmail.com>
To: GCC patches <gcc-patches@gcc.gnu.org>
Message-ID: <YY7x2yEgOHAjPsD1@antec>
References: <20211109121308.583835-1-shorne@gmail.com>
MIME-Version: 1.0
Content-Disposition: inline
In-Reply-To: <20211109121308.583835-1-shorne@gmail.com>
Subject: Re: [OpenRISC] [RFC PATCH] or1k: Fix clobbering of _mcount argument
 if fPIC is enabled
X-BeenThere: openrisc@lists.librecores.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: Discussion around the OpenRISC processor
 <openrisc.lists.librecores.org>
List-Unsubscribe: <https://lists.librecores.org/options/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=unsubscribe>
List-Archive: <http://lists.librecores.org/pipermail/openrisc/>
List-Post: <mailto:openrisc@lists.librecores.org>
List-Help: <mailto:openrisc-request@lists.librecores.org?subject=help>
List-Subscribe: <https://lists.librecores.org/listinfo/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=subscribe>
Cc: Openrisc <openrisc@lists.librecores.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openrisc-bounces@lists.librecores.org
Sender: "OpenRISC" <openrisc-bounces@lists.librecores.org>

SSBoYXZlIGNvbW1pdHRlZCB0aGlzIGFzIGlzLgoKLVN0YWZmb3JkCgpPbiBUdWUsIE5vdiAwOSwg
MjAyMSBhdCAwOToxMzowOFBNICswOTAwLCBTdGFmZm9yZCBIb3JuZSB3cm90ZToKPiBSZWNlbnRs
eSB3ZSBjaGFuZ2VkIHRoZSBQUk9GSUxFX0hPT0sgX21jb3VudCBjYWxsIHRvIHBhc3MgaW4gdGhl
IGxpbmsKPiByZWdpc3RlciBhcyBhbiBhcmd1bWVudC4gIFRoaXMgYWN0dWFsbHkgZG9lcyBub3Qg
d29yayB3aGVuIHRoZSBfbWNvdW50Cj4gY2FsbCB1c2VzIGEgUExUIGJlY2F1c2UgdGhlIEdPVCBy
ZWdpc3RlciBzZXR1cCBjb2RlIGVuZHMgdXAgZ2V0dGluZwo+IGluc2VydGVkIGJlZm9yZSB0aGUg
UFJPRklMRV9IT09LIGFuZCBjbG9iYmVycyB0aGUgbGluayByZWdpc3Rlcgo+IGFyZ3VtZW50Lgo+
IAo+IFRoZXNlIGdsaWJjIHRlc3RzIGFyZSBmYWlsaW5nOgo+ICAgZ21vbi90c3QtZ21vbi1waWUt
Z3Byb2YKPiAgIGdtb24vdHN0LWdtb24tc3RhdGljLWdwcm9mCj4gCj4gVGhpcyBwYXRjaCBmaXhl
cyB0aGlzIGJ5IHNhdmluZyB0aGUgaW5zdHJ1Y3Rpb24gdGhhdCBzdG9yZXMgdGhlIExpbmsKPiBS
ZWdpc3RlciB0byB0aGUgX21jb3VudCBhcmd1bWVudCBhbmQgdGhlbiBpbnNlcnRzIHRoZSBHT1Qg
cmVnaXN0ZXIgc2V0dXAKPiBpbnN0cnVjdGlvbnMgYWZ0ZXIgdGhhdC4KPiAKPiBGb3IgZXhhbXBs
ZToKPiAKPiBtYWluLmM6Cj4gCj4gICAgIGV4dGVybiBpbnQgZTsKPiAKPiAgICAgaW50IGYyKGlu
dCBhKSB7Cj4gICAgICAgcmV0dXJuIGEgKyBlOwo+ICAgICB9Cj4gCj4gICAgIGludCBmMShpbnQg
YSkgewo+ICAgICAgIHJldHVybiBmMiAoYSArIGEpOwo+ICAgICB9Cj4gCj4gICAgIGludCBtYWlu
KGludCBhcmdjLCBjaGFyICoqIGFyZ3YpIHsKPiAgICAgICByZXR1cm4gZjEgKGFyZ2MpOwo+ICAg
ICB9Cj4gCj4gQ29tcGlsZWQ6Cj4gCj4gICAgIG9yMWstc21oLWxpbnV4LWdudS1nY2MgLVdhbGwg
LWMgLU8yIC1mUElDIC1wZyAtUyBtYWluLmMKPiAKPiBCZWZvcmUgRml4Ogo+IAo+ICAgICBtYWlu
Ogo+ICAgICAgICAgbC5hZGRpICByMSwgcjEsIC0xNgo+ICAgICAgICAgbC5zdyAgICA4KHIxKSwg
cjIKPiAgICAgICAgIGwuc3cgICAgMChyMSksIHIxNgo+ICAgICAgICAgbC5hZGRpICByMiwgcjEs
IDE2ICAgIyBLZWVwaW5nIEZQLCBidXQgbm90IG5lZWRlZAo+ICAgICAgICAgbC5zdyAgICA0KHIx
KSwgcjE4Cj4gICAgICAgICBsLnN3ICAgIDEyKHIxKSwgcjkKPiAgICAgICAgIGwuamFsICAgOCAg
ICAgICAgICAgICMgR09UIFNldHVwIGNsb2JiZXJzIHI5IChMaW5rIFJlZ2lzdGVyKQo+ICAgICAg
ICAgIGwubW92aGkgICAgICAgIHIxNiwgZ290cGNoaShfR0xPQkFMX09GRlNFVF9UQUJMRV8tNCkK
PiAgICAgICAgIGwub3JpICAgcjE2LCByMTYsIGdvdHBjbG8oX0dMT0JBTF9PRkZTRVRfVEFCTEVf
KzApCj4gICAgICAgICBsLmFkZCAgIHIxNiwgcjE2LCByOQo+ICAgICAgICAgbC5vciAgICByMTgs
IHIzLCByMwo+ICAgICAgICAgbC5vciAgICByMywgcjksIHI5ICAgICMgVGhpcyBpcyBub3QgdGhl
IG9yaWdpbmFsIExSCj4gICAgICAgICBsLmphbCAgIHBsdChfbWNvdW50KQo+ICAgICAgICAgIGwu
bm9wCj4gCj4gICAgICAgICBsLmphbCAgIHBsdChmMSkKPiAgICAgICAgICBsLm9yICAgIHIzLCBy
MTgsIHIxOAo+ICAgICAgICAgbC5sd3ogICByOSwgMTIocjEpCj4gICAgICAgICBsLmx3eiAgIHIx
NiwgMChyMSkKPiAgICAgICAgIGwubHd6ICAgcjE4LCA0KHIxKQo+ICAgICAgICAgbC5sd3ogICBy
MiwgOChyMSkKPiAgICAgICAgIGwuanIgICAgcjkKPiAgICAgICAgICBsLmFkZGkgIHIxLCByMSwg
MTYKPiAKPiBBZnRlciB0aGUgZml4Ogo+IAo+ICAgICBtYWluOgo+ICAgICAgICAgbC5hZGRpICBy
MSwgcjEsIC0xMgo+ICAgICAgICAgbC5zdyAgICAwKHIxKSwgcjE2Cj4gICAgICAgICBsLnN3ICAg
IDQocjEpLCByMTgKPiAgICAgICAgIGwuc3cgICAgOChyMSksIHI5Cj4gICAgICAgICBsLm9yICAg
IHIxOCwgcjMsIHIzCj4gICAgICAgICBsLm9yICAgIHIzLCByOSwgcjkgICAgIyBXZSBub3cgaGF2
ZSByOSAoTFIpIHNldCBlYXJseQo+ICAgICAgICAgbC5qYWwgICA4ICAgICAgICAgICAgICMgQ2xv
YmJlcnMgcjkgKExpbmsgUmVnaXN0ZXIpCj4gICAgICAgICAgbC5tb3ZoaSAgICAgICAgcjE2LCBn
b3RwY2hpKF9HTE9CQUxfT0ZGU0VUX1RBQkxFXy00KQo+ICAgICAgICAgbC5vcmkgICByMTYsIHIx
NiwgZ290cGNsbyhfR0xPQkFMX09GRlNFVF9UQUJMRV8rMCkKPiAgICAgICAgIGwuYWRkICAgcjE2
LCByMTYsIHI5Cj4gICAgICAgICBsLmphbCAgIHBsdChfbWNvdW50KQo+ICAgICAgICAgIGwubm9w
Cj4gCj4gICAgICAgICBsLmphbCAgIHBsdChmMSkKPiAgICAgICAgICBsLm9yICAgIHIzLCByMTgs
IHIxOAo+ICAgICAgICAgbC5sd3ogICByOSwgOChyMSkKPiAgICAgICAgIGwubHd6ICAgcjE2LCAw
KHIxKQo+ICAgICAgICAgbC5sd3ogICByMTgsIDQocjEpCj4gICAgICAgICBsLmpyICAgIHI5Cj4g
ICAgICAgICAgbC5hZGRpICByMSwgcjEsIDEyCj4gCj4gRml4ZXM6IDMwODUzMWQxNDhhICgib3Ix
azogQWRkIHJldHVybiBhZGRyZXNzIGFyZ3VtZW50IHRvIF9tY291bnQgY2FsbCIpCj4gCj4gZ2Nj
L0NoYW5nZUxvZzoKPiAJKiBjb25maWcvb3Ixay9vcjFrLXByb3Rvcy5oIChvcjFrX3Byb2ZpbGVf
aG9vayk6IE5ldyBmdW5jdGlvbi4KPiAJKiBjb25maWcvb3Ixay9vcjFrLmggKFBST0ZJTEVfSE9P
Syk6IENoYW5nZSBtYWNybyB0byByZWZlcmVuY2UKPiAJbmV3IGZ1bmN0aW9uIG9yMWtfcHJvZmls
ZV9ob29rLgo+IAkqIGNvbmZpZy9vcjFrL29yMWsuYyAoc3RydWN0IG1hY2hpbmVfZnVuY3Rpb24p
OiBBZGQgbmV3IGZpZWxkCj4gCXNldF9tY291bnRfYXJnX2luc24uCj4gCShvcjFrX3Byb2ZpbGVf
aG9vayk6IE5ldyBmdW5jdGlvbi4KPiAJKG9yMWtfaW5pdF9waWNfcmVnKTogVXBkYXRlIHRvIGlu
amVjdCBwaWMgcnR4IGFmdGVyIF9tY291bnQgYXJnCj4gCXdoZW4gcHJvZmlsaW5nLgo+IAkob3Ix
a19mcmFtZV9wb2ludGVyX3JlcXVpcmVkKTogRnJhbWUgcG9pbnRlciBubyBsb25nZXIgbmVlZGVk
Cj4gCXdoZW4gcHJvZmlsaW5nLgo+IC0tLQo+IEkgYW0gc2VuZGluZyB0aGlzIGFzIFJGQyBhcyBJ
IHRoaW5rIHRoZXJlIHNob3VsZCBiZSBhIGJldHRlciB3YXkgdG8gaGFuZGxlCj4gdGhpcyBidXQg
SSBhbSBub3Qgc3VyZSBob3cgdGhhdCB3b3VsZCBiZS4KPiAKPiBBbiBlYXJsaWVyIHBhdGNoIEkg
dHJpZWQgd2FzIHRvIHN0b3JlIHRoZSBsaW5rIHJlZ2lzdGVyIHRvIGEgdGVtcG9yYXJ5IHJlZ2lz
dGVyCj4gdGhlbiBwYXNzIHRoZSB0ZW1wb3JhcnkgcmVnaXN0ZXIgYXMgYW4gYXJndW1lbnQgdG8g
X21jb3VudCwgaG93ZXZlcgo+IG9wdGltaXphdGlvbnMgY2F1c2VkIHRoZSBsaW5rIHJlZ2lzdGVy
IHRvIHN0aWxsIGdldCBjbG9iYmVyZWQuCj4gCj4gQW55IHRob3VnaHRzIHdpbGwgYmUgaGVscGZ1
bC4KPiAKPiAtU3RhZmZvcmQKPiAKPiAgZ2NjL2NvbmZpZy9vcjFrL29yMWstcHJvdG9zLmggfCAg
MSArCj4gIGdjYy9jb25maWcvb3Ixay9vcjFrLmMgICAgICAgIHwgNDkgKysrKysrKysrKysrKysr
KysrKysrKysrKysrKy0tLS0tLS0KPiAgZ2NjL2NvbmZpZy9vcjFrL29yMWsuaCAgICAgICAgfCAg
OCArLS0tLS0KPiAgMyBmaWxlcyBjaGFuZ2VkLCA0MiBpbnNlcnRpb25zKCspLCAxNiBkZWxldGlv
bnMoLSkKPiAKPiBkaWZmIC0tZ2l0IGEvZ2NjL2NvbmZpZy9vcjFrL29yMWstcHJvdG9zLmggYi9n
Y2MvY29uZmlnL29yMWsvb3Ixay1wcm90b3MuaAo+IGluZGV4IGJiYjU0YzhmNzkwLi41NjU1NGYy
OTM3ZiAxMDA2NDQKPiAtLS0gYS9nY2MvY29uZmlnL29yMWsvb3Ixay1wcm90b3MuaAo+ICsrKyBi
L2djYy9jb25maWcvb3Ixay9vcjFrLXByb3Rvcy5oCj4gQEAgLTIwLDYgKzIwLDcgQEAgYWxvbmcg
d2l0aCBHQ0M7IHNlZSB0aGUgZmlsZSBDT1BZSU5HMy4gIElmIG5vdCBzZWUKPiAgZXh0ZXJuIEhP
U1RfV0lERV9JTlQgb3Ixa19pbml0aWFsX2VsaW1pbmF0aW9uX29mZnNldCAoaW50LCBpbnQpOwo+
ICBleHRlcm4gdm9pZCBvcjFrX2V4cGFuZF9wcm9sb2d1ZSAodm9pZCk7Cj4gIGV4dGVybiB2b2lk
IG9yMWtfZXhwYW5kX2VwaWxvZ3VlICh2b2lkKTsKPiArZXh0ZXJuIHZvaWQgb3Ixa19wcm9maWxl
X2hvb2sgKHZvaWQpOwo+ICBleHRlcm4gdm9pZCBvcjFrX2V4cGFuZF9laF9yZXR1cm4gKHJ0eCk7
Cj4gIGV4dGVybiBydHggIG9yMWtfaW5pdGlhbF9mcmFtZV9hZGRyICh2b2lkKTsKPiAgZXh0ZXJu
IHJ0eCAgb3Ixa19keW5hbWljX2NoYWluX2FkZHIgKHJ0eCk7Cj4gZGlmZiAtLWdpdCBhL2djYy9j
b25maWcvb3Ixay9vcjFrLmMgYi9nY2MvY29uZmlnL29yMWsvb3Ixay5jCj4gaW5kZXggZTc3MmE3
YWRkZWEuLjMzNWM0YzVkZWNmIDEwMDY0NAo+IC0tLSBhL2djYy9jb25maWcvb3Ixay9vcjFrLmMK
PiArKysgYi9nY2MvY29uZmlnL29yMWsvb3Ixay5jCj4gQEAgLTczLDYgKzczLDEwIEBAIHN0cnVj
dCBHVFkoKCkpIG1hY2hpbmVfZnVuY3Rpb24KPiAgCj4gICAgLyogUmVtZW1iZXIgd2hlcmUgdGhl
IHNldF9nb3RfcGxhY2Vob2xkZXIgaXMgbG9jYXRlZC4gICovCj4gICAgcnR4X2luc24gKnNldF9n
b3RfaW5zbjsKPiArCj4gKyAgLyogUmVtZW1iZXIgd2hlcmUgbWNvdW50IGFyZ3MgYXJlIHN0b3Jl
ZCBzbyB3ZSBjYW4gaW5zZXJ0IHNldF9nb3RfaW5zbgo+ICsgICAgIGFmdGVyLiAgKi8KPiArICBy
dHhfaW5zbiAqc2V0X21jb3VudF9hcmdfaW5zbjsKPiAgfTsKPiAgCj4gIC8qIFplcm8gaW5pdGlh
bGl6YXRpb24gaXMgT0sgZm9yIGFsbCBjdXJyZW50IGZpZWxkcy4gICovCj4gQEAgLTQxNSw2ICs0
MTksMjUgQEAgb3Ixa19leHBhbmRfZXBpbG9ndWUgKHZvaWQpCj4gIAkJCSAgIEVIX1JFVFVSTl9T
VEFDS0FESl9SVFgpKTsKPiAgfQo+ICAKPiArLyogV29ya2VyIGZvciBQUk9GSUxFX0hPT0suCj4g
KyAgIFRoZSBPcGVuUklTQyBwcm9maWxlIGhvb2sgdXNlcyB0aGUgbGluayByZWdpc3RlciB3aGlj
aCB3aWxsIGdldCBjbG9iYmVyZWQgYnkKPiArICAgdGhlIEdPVCBzZXR1cCBSVFguICBUaGlzIHNl
dHMgdXAgYSBwbGFjZWhvbGRlciB0byBhbGxvdyBpbmplY3Rpbmcgb2YgdGhlIEdPVAo+ICsgICBz
ZXR1cCBSVFggdG8gYXZvaWQgY2xvYmJlcmluZy4gICovCj4gKwo+ICt2b2lkCj4gK29yMWtfcHJv
ZmlsZV9ob29rICh2b2lkKQo+ICt7Cj4gKyAgcnR4IGExID0gZ2VuX3J0eF9SRUcgKFBtb2RlLCAz
KTsKPiArICBydHggcmEgPSBnZXRfaGFyZF9yZWdfaW5pdGlhbF92YWwgKFBtb2RlLCBMUl9SRUdO
VU0pOwo+ICsgIHJ0eCBmdW4gPSBnZW5fcnR4X1NZTUJPTF9SRUYgKFBtb2RlLCAiX21jb3VudCIp
Owo+ICsKPiArICAvKiBLZWVwIHRyYWNrIG9mIHdoZXJlIHdlIHNldHVwIHRoZSBfbWNvdW50IGFy
Z3VtZW50IHNvIHdlIGNhbiBpbnNlcnQgdGhlCj4gKyAgICAgR09UIHNldHVwIFJUWCBhZnRlciBp
dC4gICovCj4gKyAgY2Z1bi0+bWFjaGluZS0+c2V0X21jb3VudF9hcmdfaW5zbiA9IGVtaXRfbW92
ZV9pbnNuIChhMSwgcmEpOwo+ICsKPiArICBlbWl0X2xpYnJhcnlfY2FsbCAoZnVuLCBMQ1RfTk9S
TUFMLCBWT0lEbW9kZSwgYTEsIFBtb2RlKTsKPiArfQo+ICsKPiAgLyogV29ya2VyIGZvciBUQVJH
RVRfSU5JVF9QSUNfUkVHLgo+ICAgICBJbml0aWFsaXplIHRoZSBjZnVuLT5tYWNoaW5lLT5zZXRf
Z290X2luc24gcnR4IGFuZCBpbnNlcnQgaXQgYXQgdGhlIGVudHJ5Cj4gICAgIG9mIHRoZSBjdXJy
ZW50IGZ1bmN0aW9uLiAgVGhlIHJ0eCBpcyBqdXN0IGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyIGZv
cgo+IEBAIC00MjMsMTcgKzQ0NiwyNSBAQCBvcjFrX2V4cGFuZF9lcGlsb2d1ZSAodm9pZCkKPiAg
c3RhdGljIHZvaWQKPiAgb3Ixa19pbml0X3BpY19yZWcgKHZvaWQpCj4gIHsKPiAtICBzdGFydF9z
ZXF1ZW5jZSAoKTsKPiAgCj4gLSAgY2Z1bi0+bWFjaGluZS0+c2V0X2dvdF9pbnNuCj4gLSAgICA9
IGVtaXRfaW5zbiAoZ2VuX3NldF9nb3RfdG1wIChwaWNfb2Zmc2V0X3RhYmxlX3J0eCkpOwo+ICsg
IGlmIChjcnRsLT5wcm9maWxlKQo+ICsgICAgY2Z1bi0+bWFjaGluZS0+c2V0X2dvdF9pbnNuID0K
PiArICAgICAgZW1pdF9pbnNuX2FmdGVyIChnZW5fc2V0X2dvdF90bXAgKHBpY19vZmZzZXRfdGFi
bGVfcnR4KSwKPiArCQkgICAgICAgY2Z1bi0+bWFjaGluZS0+c2V0X21jb3VudF9hcmdfaW5zbik7
Cj4gKyAgZWxzZQo+ICsgICAgewo+ICsgICAgICBzdGFydF9zZXF1ZW5jZSAoKTsKPiArCj4gKyAg
ICAgIGNmdW4tPm1hY2hpbmUtPnNldF9nb3RfaW5zbiA9Cj4gKwllbWl0X2luc24gKGdlbl9zZXRf
Z290X3RtcCAocGljX29mZnNldF90YWJsZV9ydHgpKTsKPiAgCj4gLSAgcnR4X2luc24gKnNlcSA9
IGdldF9pbnNucyAoKTsKPiAtICBlbmRfc2VxdWVuY2UgKCk7Cj4gKyAgICAgIHJ0eF9pbnNuICpz
ZXEgPSBnZXRfaW5zbnMgKCk7Cj4gKyAgICAgIGVuZF9zZXF1ZW5jZSAoKTsKPiAgCj4gLSAgZWRn
ZSBlbnRyeV9lZGdlID0gc2luZ2xlX3N1Y2NfZWRnZSAoRU5UUllfQkxPQ0tfUFRSX0ZPUl9GTiAo
Y2Z1bikpOwo+IC0gIGluc2VydF9pbnNuX29uX2VkZ2UgKHNlcSwgZW50cnlfZWRnZSk7Cj4gLSAg
Y29tbWl0X29uZV9lZGdlX2luc2VydGlvbiAoZW50cnlfZWRnZSk7Cj4gKyAgICAgIGVkZ2UgZW50
cnlfZWRnZSA9IHNpbmdsZV9zdWNjX2VkZ2UgKEVOVFJZX0JMT0NLX1BUUl9GT1JfRk4gKGNmdW4p
KTsKPiArICAgICAgaW5zZXJ0X2luc25fb25fZWRnZSAoc2VxLCBlbnRyeV9lZGdlKTsKPiArICAg
ICAgY29tbWl0X29uZV9lZGdlX2luc2VydGlvbiAoZW50cnlfZWRnZSk7Cj4gKyAgICB9Cj4gIH0K
PiAgCj4gICN1bmRlZiBUQVJHRVRfSU5JVF9QSUNfUkVHCj4gQEAgLTQ4MCw3ICs1MTEsNyBAQCBv
cjFrX2ZyYW1lX3BvaW50ZXJfcmVxdWlyZWQgKCkKPiAgewo+ICAgIC8qID8/PyBXaGlsZSBJUkEg
Y2hlY2tzIGFjY2Vzc2VzX3ByaW9yX2ZyYW1lcywgcmVsb2FkIGRvZXMgbm90Lgo+ICAgICAgIFdl
IGRvIHdhbnQgdGhlIGZyYW1lIHBvaW50ZXIgZm9yIHRoaXMgY2FzZS4gICovCj4gLSAgcmV0dXJu
IChjcnRsLT5hY2Nlc3Nlc19wcmlvcl9mcmFtZXMgfHwgY3J0bC0+cHJvZmlsZSk7Cj4gKyAgcmV0
dXJuIChjcnRsLT5hY2Nlc3Nlc19wcmlvcl9mcmFtZXMpOwo+ICB9Cj4gIAo+ICAvKiBFeHBhbmQg
dGhlICJlaF9yZXR1cm4iIHBhdHRlcm4uCj4gZGlmZiAtLWdpdCBhL2djYy9jb25maWcvb3Ixay9v
cjFrLmggYi9nY2MvY29uZmlnL29yMWsvb3Ixay5oCj4gaW5kZXggNDYwM2NiNjcxNjAuLmNlMGE0
N2RmYTY2IDEwMDY0NAo+IC0tLSBhL2djYy9jb25maWcvb3Ixay9vcjFrLmgKPiArKysgYi9nY2Mv
Y29uZmlnL29yMWsvb3Ixay5oCj4gQEAgLTM4NSwxMyArMzg1LDcgQEAgZG8geyAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcCj4gIAo+ICAvKiBFbWl0
IHJ0bCBmb3IgcHJvZmlsaW5nLiAgT3V0cHV0IGFzc2VtYmxlciBjb2RlIHRvIGNhbGwgIl9tY291
bnQiIGZvcgo+ICAgICBwcm9maWxpbmcgYSBmdW5jdGlvbiBlbnRyeS4gICovCj4gLSNkZWZpbmUg
UFJPRklMRV9IT09LKExBQkVMKQkJCQkJCVwKPiAtICB7CQkJCQkJCQkJXAo+IC0gICAgcnR4IGZ1
biwgcmE7CQkJCQkJCVwKPiAtICAgIHJhID0gZ2V0X2hhcmRfcmVnX2luaXRpYWxfdmFsIChQbW9k
ZSwgTFJfUkVHTlVNKTsJCQlcCj4gLSAgICBmdW4gPSBnZW5fcnR4X1NZTUJPTF9SRUYgKFBtb2Rl
LCAiX21jb3VudCIpOwkJCVwKPiAtICAgIGVtaXRfbGlicmFyeV9jYWxsIChmdW4sIExDVF9OT1JN
QUwsIFZPSURtb2RlLCByYSwgUG1vZGUpOwkJXAo+IC0gIH0KPiArI2RlZmluZSBQUk9GSUxFX0hP
T0soTEFCRUwpICBvcjFrX3Byb2ZpbGVfaG9vaygpCj4gIAo+ICAvKiBBbGwgdGhlIHdvcmsgaXMg
ZG9uZSBpbiBQUk9GSUxFX0hPT0ssIGJ1dCB0aGlzIGlzIHN0aWxsIHJlcXVpcmVkLiAgKi8KPiAg
I2RlZmluZSBGVU5DVElPTl9QUk9GSUxFUihTVFJFQU0sIExBQkVMTk8pIGRvIHsgfSB3aGlsZSAo
MCkKPiAtLSAKPiAyLjMxLjEKPiAKX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19f
X19fX19fX19fX18KT3BlblJJU0MgbWFpbGluZyBsaXN0Ck9wZW5SSVNDQGxpc3RzLmxpYnJlY29y
ZXMub3JnCmh0dHBzOi8vbGlzdHMubGlicmVjb3Jlcy5vcmcvbGlzdGluZm8vb3BlbnJpc2MK
