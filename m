Return-Path: <openrisc-bounces@lists.librecores.org>
X-Original-To: lists+openrisc@lfdr.de
Delivered-To: lists+openrisc@lfdr.de
Received: from mail.librecores.org (lists.librecores.org [88.198.125.70])
	by mail.lfdr.de (Postfix) with ESMTP id AF5731D200A
	for <lists+openrisc@lfdr.de>; Wed, 13 May 2020 22:17:47 +0200 (CEST)
Received: from [172.31.1.100] (localhost.localdomain [127.0.0.1])
	by mail.librecores.org (Postfix) with ESMTP id 6E23A20B7B;
	Wed, 13 May 2020 22:17:47 +0200 (CEST)
Received: from mail.kernel.org (mail.kernel.org [198.145.29.99])
 by mail.librecores.org (Postfix) with ESMTPS id 25C7820AC7
 for <openrisc@lists.librecores.org>; Tue, 12 May 2020 20:46:18 +0200 (CEST)
Received: from aquarius.haifa.ibm.com (nesher1.haifa.il.ibm.com [195.110.40.7])
 (using TLSv1.2 with cipher ECDHE-RSA-AES128-SHA256 (128/128 bits))
 (No client certificate requested)
 by mail.kernel.org (Postfix) with ESMTPSA id B409D23128;
 Tue, 12 May 2020 18:46:03 +0000 (UTC)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/simple; d=kernel.org;
 s=default; t=1589309176;
 bh=yDrZA870oUFaCW7CO9U7txLmbCxWgFuHlkXJRLkXrf0=;
 h=From:To:Cc:Subject:Date:In-Reply-To:References:From;
 b=df1O0LqHMxZEqdiZbaZmdDIF2V+gC5fFm3dupkLWddckRlrbJLxiwnBoMmfCnb3tb
 wI0xJ9Tbo6zHg5sqXarrqxWgV6ibIIa8Bu4+Z2mki64NuyhdTy9K6D1jG+3AUqxc+u
 eo273LJjuzAUbd4pwtJVWdo+IddEARRHpeNxgkAE=
From: Mike Rapoport <rppt@kernel.org>
To: linux-kernel@vger.kernel.org
Date: Tue, 12 May 2020 21:44:16 +0300
Message-Id: <20200512184422.12418-7-rppt@kernel.org>
X-Mailer: git-send-email 2.26.1
In-Reply-To: <20200512184422.12418-1-rppt@kernel.org>
References: <20200512184422.12418-1-rppt@kernel.org>
MIME-Version: 1.0
X-Mailman-Approved-At: Wed, 13 May 2020 22:17:32 +0200
Subject: [OpenRISC] [PATCH 06/12] m68k/mm: move {cache,
 nocahe}_page() definitions close to their user
X-BeenThere: openrisc@lists.librecores.org
X-Mailman-Version: 2.1.26
Precedence: list
List-Id: Discussion around the OpenRISC processor
 <openrisc.lists.librecores.org>
List-Unsubscribe: <https://lists.librecores.org/options/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=unsubscribe>
List-Archive: <http://lists.librecores.org/pipermail/openrisc/>
List-Post: <mailto:openrisc@lists.librecores.org>
List-Help: <mailto:openrisc-request@lists.librecores.org?subject=help>
List-Subscribe: <https://lists.librecores.org/listinfo/openrisc>,
 <mailto:openrisc-request@lists.librecores.org?subject=subscribe>
Cc: Rich Felker <dalias@libc.org>, linux-ia64@vger.kernel.org,
 linux-sh@vger.kernel.org, Catalin Marinas <catalin.marinas@arm.com>,
 Heiko Carstens <heiko.carstens@de.ibm.com>, Max Filippov <jcmvbkbc@gmail.com>,
 Guo Ren <guoren@kernel.org>, linux-csky@vger.kernel.org,
 sparclinux@vger.kernel.org, linux-hexagon@vger.kernel.org,
 linux-riscv@lists.infradead.org, Vincent Chen <deanbo422@gmail.com>,
 Will Deacon <will@kernel.org>, Greg Ungerer <gerg@linux-m68k.org>,
 linux-arch@vger.kernel.org, linux-s390@vger.kernel.org,
 linux-c6x-dev@linux-c6x.org, Brian Cain <bcain@codeaurora.org>,
 Michael Ellerman <mpe@ellerman.id.au>, Helge Deller <deller@gmx.de>,
 x86@kernel.org, Russell King <linux@armlinux.org.uk>,
 Ley Foon Tan <ley.foon.tan@intel.com>, Mike Rapoport <rppt@linux.ibm.com>,
 Ingo Molnar <mingo@redhat.com>, linux-parisc@vger.kernel.org,
 Mark Salter <msalter@redhat.com>, Matt Turner <mattst88@gmail.com>,
 linux-snps-arc@lists.infradead.org, linux-xtensa@linux-xtensa.org,
 Arnd Bergmann <arnd@arndb.de>, linux-alpha@vger.kernel.org,
 linux-um@lists.infradead.org, linux-m68k@lists.linux-m68k.org,
 Tony Luck <tony.luck@intel.com>, Borislav Petkov <bp@alien8.de>,
 Greentime Hu <green.hu@gmail.com>, Paul Walmsley <paul.walmsley@sifive.com>,
 Guan Xuetao <gxt@pku.edu.cn>, linux-arm-kernel@lists.infradead.org,
 Chris Zankel <chris@zankel.net>, Michal Simek <monstr@monstr.eu>,
 Thomas Bogendoerfer <tsbogend@alpha.franken.de>,
 Yoshinori Sato <ysato@users.sourceforge.jp>, Nick Hu <nickhu@andestech.com>,
 linux-mm@kvack.org, Vineet Gupta <vgupta@synopsys.com>,
 linux-mips@vger.kernel.org, openrisc@lists.librecores.org,
 Thomas Gleixner <tglx@linutronix.de>, Richard Weinberger <richard@nod.at>,
 Andrew Morton <akpm@linux-foundation.org>, linuxppc-dev@lists.ozlabs.org,
 "David S. Miller" <davem@davemloft.net>, Mike Rapoport <rppt@kernel.org>
Content-Type: text/plain; charset="utf-8"
Content-Transfer-Encoding: base64
Errors-To: openrisc-bounces@lists.librecores.org
Sender: "OpenRISC" <openrisc-bounces@lists.librecores.org>

RnJvbTogTWlrZSBSYXBvcG9ydCA8cnBwdEBsaW51eC5pYm0uY29tPgoKVGhlIGNhY2hlX3BhZ2Uo
KSBhbmQgbm9jYWNoZV9wYWdlKCkgZnVuY3Rpb25zIGFyZSBvbmx5IHVzZWQgYnkgdGhlIG1vcm90
b2xhCk1NVSB2YXJpYW50IGZvciBzZXR0aW5nIGNhY2hpbmcgYXR0cmlidXRlcyBmb3IgdGhlIHBh
Z2UgdGFibGUgcGFnZXMuCgpNb3ZlIHRoZSBkZWZpbml0aW9ucyBvZiB0aGVzZSBmdW5jdGlvbnMg
ZnJvbQphcmNoL202OGsvaW5jbHVkZS9hc20vbW90b3JvbGFfcGd0YWJsZS5oIGNsb3NlciB0byB0
aGVpciB1c2FnZSBpbgphcmNoL202OGsvbW0vbW90b3JvbGEuYyBhbmQgZHJvcCB1bnVzZWQgZGVm
aW5pdGlvbiBpbgphcmNoL202OGsvaW5jbHVkZS9hc20vbWNmX3BndGFibGUuaC4KClNpZ25lZC1v
ZmYtYnk6IE1pa2UgUmFwb3BvcnQgPHJwcHRAbGludXguaWJtLmNvbT4KLS0tCiBhcmNoL202OGsv
aW5jbHVkZS9hc20vbWNmX3BndGFibGUuaCAgICAgIHwgNDAgLS0tLS0tLS0tLS0tLS0tLS0tLS0t
CiBhcmNoL202OGsvaW5jbHVkZS9hc20vbW90b3JvbGFfcGd0YWJsZS5oIHwgNDQgLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tCiBhcmNoL202OGsvbW0vbW90b3JvbGEuYyAgICAgICAgICAgICAgICAg
IHwgNDMgKysrKysrKysrKysrKysrKysrKysrKysKIDMgZmlsZXMgY2hhbmdlZCwgNDMgaW5zZXJ0
aW9ucygrKSwgODQgZGVsZXRpb25zKC0pCgpkaWZmIC0tZ2l0IGEvYXJjaC9tNjhrL2luY2x1ZGUv
YXNtL21jZl9wZ3RhYmxlLmggYi9hcmNoL202OGsvaW5jbHVkZS9hc20vbWNmX3BndGFibGUuaApp
bmRleCAwMDMxY2QzODdiNzUuLjczN2U4MjYyOTRmMyAxMDA2NDQKLS0tIGEvYXJjaC9tNjhrL2lu
Y2x1ZGUvYXNtL21jZl9wZ3RhYmxlLmgKKysrIGIvYXJjaC9tNjhrL2luY2x1ZGUvYXNtL21jZl9w
Z3RhYmxlLmgKQEAgLTMyOCw0NiArMzI4LDYgQEAgZXh0ZXJuIHBnZF90IGtlcm5lbF9wZ19kaXJb
UFRSU19QRVJfUEdEXTsKICNkZWZpbmUgcHRlX29mZnNldF9rZXJuZWwoZGlyLCBhZGRyZXNzKSBc
CiAJKChwdGVfdCAqKSBfX3BtZF9wYWdlKCooZGlyKSkgKyBfX3B0ZV9vZmZzZXQoYWRkcmVzcykp
CiAKLS8qCi0gKiBEaXNhYmxlIGNhY2hpbmcgZm9yIHBhZ2UgYXQgZ2l2ZW4ga2VybmVsIHZpcnR1
YWwgYWRkcmVzcy4KLSAqLwotc3RhdGljIGlubGluZSB2b2lkIG5vY2FjaGVfcGFnZSh2b2lkICp2
YWRkcikKLXsKLQlwZ2RfdCAqZGlyOwotCXA0ZF90ICpwNGRwOwotCXB1ZF90ICpwdWRwOwotCXBt
ZF90ICpwbWRwOwotCXB0ZV90ICpwdGVwOwotCXVuc2lnbmVkIGxvbmcgYWRkciA9ICh1bnNpZ25l
ZCBsb25nKSB2YWRkcjsKLQotCWRpciA9IHBnZF9vZmZzZXRfayhhZGRyKTsKLQlwNGRwID0gcDRk
X29mZnNldChkaXIsIGFkZHIpOwotCXB1ZHAgPSBwdWRfb2Zmc2V0KHA0ZHAsIGFkZHIpOwotCXBt
ZHAgPSBwbWRfb2Zmc2V0KHB1ZHAsIGFkZHIpOwotCXB0ZXAgPSBwdGVfb2Zmc2V0X2tlcm5lbChw
bWRwLCBhZGRyKTsKLQkqcHRlcCA9IHB0ZV9ta25vY2FjaGUoKnB0ZXApOwotfQotCi0vKgotICog
RW5hYmxlIGNhY2hpbmcgZm9yIHBhZ2UgYXQgZ2l2ZW4ga2VybmVsIHZpcnR1YWwgYWRkcmVzcy4K
LSAqLwotc3RhdGljIGlubGluZSB2b2lkIGNhY2hlX3BhZ2Uodm9pZCAqdmFkZHIpCi17Ci0JcGdk
X3QgKmRpcjsKLQlwNGRfdCAqcDRkcDsKLQlwdWRfdCAqcHVkcDsKLQlwbWRfdCAqcG1kcDsKLQlw
dGVfdCAqcHRlcDsKLQl1bnNpZ25lZCBsb25nIGFkZHIgPSAodW5zaWduZWQgbG9uZykgdmFkZHI7
Ci0KLQlkaXIgPSBwZ2Rfb2Zmc2V0X2soYWRkcik7Ci0JcDRkcCA9IHA0ZF9vZmZzZXQoZGlyLCBh
ZGRyKTsKLQlwdWRwID0gcHVkX29mZnNldChwNGRwLCBhZGRyKTsKLQlwbWRwID0gcG1kX29mZnNl
dChwdWRwLCBhZGRyKTsKLQlwdGVwID0gcHRlX29mZnNldF9rZXJuZWwocG1kcCwgYWRkcik7Ci0J
KnB0ZXAgPSBwdGVfbWtjYWNoZSgqcHRlcCk7Ci19Ci0KIC8qCiAgKiBFbmNvZGUgYW5kIGRlLWNv
ZGUgYSBzd2FwIGVudHJ5IChtdXN0IGJlICFwdGVfbm9uZShlKSAmJiAhcHRlX3ByZXNlbnQoZSkp
CiAgKi8KZGlmZiAtLWdpdCBhL2FyY2gvbTY4ay9pbmNsdWRlL2FzbS9tb3Rvcm9sYV9wZ3RhYmxl
LmggYi9hcmNoL202OGsvaW5jbHVkZS9hc20vbW90b3JvbGFfcGd0YWJsZS5oCmluZGV4IDllNWEz
ZGUyMWUxNS4uZTE1OTRhY2Y3YzdlIDEwMDY0NAotLS0gYS9hcmNoL202OGsvaW5jbHVkZS9hc20v
bW90b3JvbGFfcGd0YWJsZS5oCisrKyBiL2FyY2gvbTY4ay9pbmNsdWRlL2FzbS9tb3Rvcm9sYV9w
Z3RhYmxlLmgKQEAgLTIyNyw1MCArMjI3LDYgQEAgc3RhdGljIGlubGluZSBwdGVfdCAqcHRlX29m
ZnNldF9rZXJuZWwocG1kX3QgKnBtZHAsIHVuc2lnbmVkIGxvbmcgYWRkcmVzcykKICNkZWZpbmUg
cHRlX29mZnNldF9tYXAocG1kcCxhZGRyZXNzKSAoKHB0ZV90ICopX19wbWRfcGFnZSgqcG1kcCkg
KyAoKChhZGRyZXNzKSA+PiBQQUdFX1NISUZUKSAmIChQVFJTX1BFUl9QVEUgLSAxKSkpCiAjZGVm
aW5lIHB0ZV91bm1hcChwdGUpCQkoKHZvaWQpMCkKIAotLyogUHJpb3IgdG8gY2FsbGluZyB0aGVz
ZSByb3V0aW5lcywgdGhlIHBhZ2Ugc2hvdWxkIGhhdmUgYmVlbiBmbHVzaGVkCi0gKiBmcm9tIGJv
dGggdGhlIGNhY2hlIGFuZCBBVEMsIG9yIHRoZSBDUFUgbWlnaHQgbm90IG5vdGljZSB0aGF0IHRo
ZQotICogY2FjaGUgc2V0dGluZyBmb3IgdGhlIHBhZ2UgaGFzIGJlZW4gY2hhbmdlZC4gLWpza292
Ci0gKi8KLXN0YXRpYyBpbmxpbmUgdm9pZCBub2NhY2hlX3BhZ2Uodm9pZCAqdmFkZHIpCi17Ci0J
dW5zaWduZWQgbG9uZyBhZGRyID0gKHVuc2lnbmVkIGxvbmcpdmFkZHI7Ci0KLQlpZiAoQ1BVX0lT
XzA0MF9PUl8wNjApIHsKLQkJcGdkX3QgKmRpcjsKLQkJcDRkX3QgKnA0ZHA7Ci0JCXB1ZF90ICpw
dWRwOwotCQlwbWRfdCAqcG1kcDsKLQkJcHRlX3QgKnB0ZXA7Ci0KLQkJZGlyID0gcGdkX29mZnNl
dF9rKGFkZHIpOwotCQlwNGRwID0gcDRkX29mZnNldChkaXIsIGFkZHIpOwotCQlwdWRwID0gcHVk
X29mZnNldChwNGRwLCBhZGRyKTsKLQkJcG1kcCA9IHBtZF9vZmZzZXQocHVkcCwgYWRkcik7Ci0J
CXB0ZXAgPSBwdGVfb2Zmc2V0X2tlcm5lbChwbWRwLCBhZGRyKTsKLQkJKnB0ZXAgPSBwdGVfbWtu
b2NhY2hlKCpwdGVwKTsKLQl9Ci19Ci0KLXN0YXRpYyBpbmxpbmUgdm9pZCBjYWNoZV9wYWdlKHZv
aWQgKnZhZGRyKQotewotCXVuc2lnbmVkIGxvbmcgYWRkciA9ICh1bnNpZ25lZCBsb25nKXZhZGRy
OwotCi0JaWYgKENQVV9JU18wNDBfT1JfMDYwKSB7Ci0JCXBnZF90ICpkaXI7Ci0JCXA0ZF90ICpw
NGRwOwotCQlwdWRfdCAqcHVkcDsKLQkJcG1kX3QgKnBtZHA7Ci0JCXB0ZV90ICpwdGVwOwotCi0J
CWRpciA9IHBnZF9vZmZzZXRfayhhZGRyKTsKLQkJcDRkcCA9IHA0ZF9vZmZzZXQoZGlyLCBhZGRy
KTsKLQkJcHVkcCA9IHB1ZF9vZmZzZXQocDRkcCwgYWRkcik7Ci0JCXBtZHAgPSBwbWRfb2Zmc2V0
KHB1ZHAsIGFkZHIpOwotCQlwdGVwID0gcHRlX29mZnNldF9rZXJuZWwocG1kcCwgYWRkcik7Ci0J
CSpwdGVwID0gcHRlX21rY2FjaGUoKnB0ZXApOwotCX0KLX0KLQogLyogRW5jb2RlIGFuZCBkZS1j
b2RlIGEgc3dhcCBlbnRyeSAobXVzdCBiZSAhcHRlX25vbmUoZSkgJiYgIXB0ZV9wcmVzZW50KGUp
KSAqLwogI2RlZmluZSBfX3N3cF90eXBlKHgpCQkoKCh4KS52YWwgPj4gNCkgJiAweGZmKQogI2Rl
ZmluZSBfX3N3cF9vZmZzZXQoeCkJCSgoeCkudmFsID4+IDEyKQpkaWZmIC0tZ2l0IGEvYXJjaC9t
NjhrL21tL21vdG9yb2xhLmMgYi9hcmNoL202OGsvbW0vbW90b3JvbGEuYwppbmRleCA5MDRjMmE2
NjM5NzcuLjhlNWU3NDEyMWE3OCAxMDA2NDQKLS0tIGEvYXJjaC9tNjhrL21tL21vdG9yb2xhLmMK
KysrIGIvYXJjaC9tNjhrL21tL21vdG9yb2xhLmMKQEAgLTQ1LDYgKzQ1LDQ5IEBAIHVuc2lnbmVk
IGxvbmcgbW1fY2FjaGViaXRzOwogRVhQT1JUX1NZTUJPTChtbV9jYWNoZWJpdHMpOwogI2VuZGlm
CiAKKy8qIFByaW9yIHRvIGNhbGxpbmcgdGhlc2Ugcm91dGluZXMsIHRoZSBwYWdlIHNob3VsZCBo
YXZlIGJlZW4gZmx1c2hlZAorICogZnJvbSBib3RoIHRoZSBjYWNoZSBhbmQgQVRDLCBvciB0aGUg
Q1BVIG1pZ2h0IG5vdCBub3RpY2UgdGhhdCB0aGUKKyAqIGNhY2hlIHNldHRpbmcgZm9yIHRoZSBw
YWdlIGhhcyBiZWVuIGNoYW5nZWQuIC1qc2tvdgorICovCitzdGF0aWMgaW5saW5lIHZvaWQgbm9j
YWNoZV9wYWdlKHZvaWQgKnZhZGRyKQoreworCXVuc2lnbmVkIGxvbmcgYWRkciA9ICh1bnNpZ25l
ZCBsb25nKXZhZGRyOworCisJaWYgKENQVV9JU18wNDBfT1JfMDYwKSB7CisJCXBnZF90ICpkaXI7
CisJCXA0ZF90ICpwNGRwOworCQlwdWRfdCAqcHVkcDsKKwkJcG1kX3QgKnBtZHA7CisJCXB0ZV90
ICpwdGVwOworCisJCWRpciA9IHBnZF9vZmZzZXRfayhhZGRyKTsKKwkJcDRkcCA9IHA0ZF9vZmZz
ZXQoZGlyLCBhZGRyKTsKKwkJcHVkcCA9IHB1ZF9vZmZzZXQocDRkcCwgYWRkcik7CisJCXBtZHAg
PSBwbWRfb2Zmc2V0KHB1ZHAsIGFkZHIpOworCQlwdGVwID0gcHRlX29mZnNldF9rZXJuZWwocG1k
cCwgYWRkcik7CisJCSpwdGVwID0gcHRlX21rbm9jYWNoZSgqcHRlcCk7CisJfQorfQorCitzdGF0
aWMgaW5saW5lIHZvaWQgY2FjaGVfcGFnZSh2b2lkICp2YWRkcikKK3sKKwl1bnNpZ25lZCBsb25n
IGFkZHIgPSAodW5zaWduZWQgbG9uZyl2YWRkcjsKKworCWlmIChDUFVfSVNfMDQwX09SXzA2MCkg
eworCQlwZ2RfdCAqZGlyOworCQlwNGRfdCAqcDRkcDsKKwkJcHVkX3QgKnB1ZHA7CisJCXBtZF90
ICpwbWRwOworCQlwdGVfdCAqcHRlcDsKKworCQlkaXIgPSBwZ2Rfb2Zmc2V0X2soYWRkcik7CisJ
CXA0ZHAgPSBwNGRfb2Zmc2V0KGRpciwgYWRkcik7CisJCXB1ZHAgPSBwdWRfb2Zmc2V0KHA0ZHAs
IGFkZHIpOworCQlwbWRwID0gcG1kX29mZnNldChwdWRwLCBhZGRyKTsKKwkJcHRlcCA9IHB0ZV9v
ZmZzZXRfa2VybmVsKHBtZHAsIGFkZHIpOworCQkqcHRlcCA9IHB0ZV9ta2NhY2hlKCpwdGVwKTsK
Kwl9Cit9CiAKIC8qCiAgKiBNb3Rvcm9sYSA2ODB4MCB1c2VyJ3MgbWFudWFsIHJlY29tbWVuZHMg
dXNpbmcgdW5jYWNoZWQgbWVtb3J5IGZvciBhZGRyZXNzCi0tIAoyLjI2LjEKCl9fX19fX19fX19f
X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fCk9wZW5SSVNDIG1haWxpbmcgbGlz
dApPcGVuUklTQ0BsaXN0cy5saWJyZWNvcmVzLm9yZwpodHRwczovL2xpc3RzLmxpYnJlY29yZXMu
b3JnL2xpc3RpbmZvL29wZW5yaXNjCg==
